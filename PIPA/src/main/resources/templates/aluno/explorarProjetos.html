<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <link rel="icon" href="img/icon.png">
    <title>Professor - Home</title>
</head>

<body>
	<header>
	    <div th:switch="${usuario.role}">
	        <a th:case="'Administrador'" href="/administrador"><img id="logo" src="/img/logo.png"></a> <!--Clique na logo para retornar à página inicial-->
	        <a th:case="'Aluno'" href="/aluno"><img id="logo" src="/img/logo.png"></a> <!--Clique na logo para retornar à página inicial-->
	        <a th:case="'Professor'" href="/professor"><img id="logo" src="/img/logo.png"></a> <!--Clique na logo para retornar à página inicial-->
	        <a th:case="'Empresa'" href="/empresa"><img id="logo" src="/img/logo.png"></a> <!--Clique na logo para retornar à página inicial-->
	        <p id="nome-no-portal" th:case="'*'"></p>
	    </div>
	    <h1 id="titulo-plataforma" >PIPA | Portal</h1>
	</header>
	
	<nav id="nav-comeco">
	    <div th:switch="${usuario.role}">
	        <p id="nome-no-portal" th:case="'Administrador'"><span th:text="${administrador.nome}"></span></p>
	        <p id="nome-no-portal" th:case="'Aluno'"><span th:text="${aluno.nome}"></span></p>
	        <p id="nome-no-portal" th:case="'Professor'"><span th:text="${professor.nome}"></span></p>
	        <p id="nome-no-portal" th:case="'Empresa'"><span th:text="${empresa.nome}"></span></p>
	        <p id="nome-no-portal" th:case="'*'"></p>
	    </div>
	       <a href="/notificacoes" class="icone" id="icone-portal">
			    <img th:src="@{${temNotificacoesNaoLidas} ? '../img/balao-de-fala-vermelho.png' : '../img/balao-de-fala.png'}" />
			    <label>Notificações</label>
			</a>
		<a th:href="@{/perfil(id=${usuario.id})}" class="icone" id="icone-portal">
	        <img src="../img/icone-perfil.png">
	        <label>Perfil</label>
		</a>
		<a th:href="@{/pesquisa-usuario/listaausuarios}" class="icone" id="icone-portal">
	        <img src="../img/lupa.png">
	        <label>Pesquisa</label>
		</a>
	</nav>	

    <main>
        <div th:if="${projetos != null && !projetos.isEmpty()}">
            <div th:each="projeto : ${projetos}">
                <section class="projeto">
                    <h2 id="subtitulo-portal" th:text="${projeto.nome}"></h2>
                    <p><strong>Tipo:</strong> <span th:text="${projeto.tipoProjeto}"></span></p>
                    <p><strong>Responsável:</strong> <span th:text="${projeto.responsavel}"></span></p>
                    <p><strong>Descrição:</strong> <span th:text="${projeto.descricao}"></span></p>
                    <div th:if="${projeto.vagasRemuneradas > 0}">
                    <p><strong>Vagas Remuneradas:</strong> <span th:text="${projeto.vagasRemuneradas}"></span></p>
                    <p><strong>Valor da Bolsa:</strong> R$<span th:text="${projeto.valorBolsa}"></span></p>
                    </div>
                    <p th:if="${projeto.vagasVoluntarias > 0}"><strong>Vagas Voluntarias:</strong> <span th:text="${projeto.vagasVoluntarias}"></span></p>
                    <p><strong>Carga Horária:</strong> <span th:text="${projeto.cargaHoraria}"></span> horas</p>
                    <p><strong>Requisitos:</strong> <span th:text="${projeto.requisito}"></span></p>
                    <div th:if="${projeto.vagasRemuneradas > 0}" class="tag" >Remunerado</div>
                    <div th:each="curso : ${projeto.cursos}" class="tag" ><span th:text="${curso.nomeCurso}"></span></div>
                    <div th:if="${projeto.cursos == null}">Erro ao carregar cursos</div>
                    <div class="opcoes" ><a class="botao-aplicar" th:href="@{/projeto/{id}/aplicacao(id=${projeto.id})}">Aplicar para o projeto</a></div>
                </section>
            </div>
        </div>
    
        <div th:if="${projetos == null || projetos.isEmpty()}">
            <p>Nenhum projeto encontrado.</p>
        </div>
        <br><br>
    </main>
</body>
</html>
